(this["webpackJsonpsteps-recorder"]=this["webpackJsonpsteps-recorder"]||[]).push([[0],{179:function(e,t,n){},313:function(e,t,n){"use strict";n.r(t);var r=n(16),a=n(0),c=n.n(a),i=n(35),o=n.n(i),s=n(73),d=(n(179),n(128),n(75)),u=n(1),l=n(39),j=n.n(l),b=n(7),O=n(50),h=n(6),f=n(316),x=n(90),p=n(320),m=n(315),v=n(319),g=n(40),y=n(112);function w(){var e=Object(s.a)(["\n  text-align: center;\n  margin-bottom: 40px;\n"]);return w=function(){return e},e}var S=d.a.div(w()),Y=function(e){var t=e.options,n=e.onAdd,a=f.a.useForm(),c=Object(h.a)(a,1)[0],i=x.a.Option;return Object(r.jsx)(S,{children:Object(r.jsx)(f.a,{form:c,onFinish:function(e){n(e),c.resetFields()},onFinishFailed:function(e){console.log("Failed:",e)},children:Object(r.jsxs)(p.b,{children:[Object(r.jsx)(f.a.Item,{name:"trainingDate",rules:[{required:!0,message:"Please enter a valid date"}],children:Object(r.jsx)(m.a,{format:"DD/MM/YYYY"})}),Object(r.jsx)(f.a.Item,{name:"hours",rules:[{required:!0,message:"Please enter hours"}],children:Object(r.jsx)(v.a,{min:1})}),Object(r.jsx)(f.a.Item,{name:"selectOption",rules:[{required:!0,message:"Please assign someone"}],children:Object(r.jsx)(x.a,{showSearch:!0,style:{width:200},placeholder:"Select a person",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:t&&t.map((function(e){return Object(r.jsx)(i,{value:e,children:e},Object(y.a)())}))})}),Object(r.jsx)(f.a.Item,{children:Object(r.jsx)(g.a,{htmlType:"submit",type:"primary",children:"Add"})})]})})})},k=n(321),I=n(314),D=n(11),F=c.a.createContext(),M=function(e){e.index;var t=Object(D.a)(e,["index"]),n=f.a.useForm(),a=Object(h.a)(n,1)[0];return Object(r.jsx)(f.a,{form:a,component:!1,children:Object(r.jsx)(F.Provider,{value:a,children:Object(r.jsx)("tr",Object(u.a)({},t))})})},C=n(5),P=n(317),A=function(e){var t=e.title,n=e.editable,c=e.children,i=e.dataIndex,o=e.record,s=e.handleSave,d=Object(D.a)(e,["title","editable","children","dataIndex","record","handleSave"]),l=Object(a.useState)(!1),b=Object(h.a)(l,2),x=b[0],p=b[1],m=Object(a.useRef)(),v=Object(a.useContext)(F);Object(a.useEffect)((function(){x&&m.current.focus()}),[x]);var g=function(){p(!x),v.setFieldsValue(Object(C.a)({},i,o[i]))},y=function(){var e=Object(O.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.validateFields();case 3:t=e.sent,g(),s(Object(u.a)(Object(u.a)({},o),t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),w=c;return n&&(w=x?Object(r.jsx)(f.a.Item,{style:{margin:0},name:i,rules:[{required:!0,message:"".concat(t," is required.")}],children:Object(r.jsx)(P.a,{ref:m,onPressEnter:y,onBlur:y})}):Object(r.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:g,children:c})),Object(r.jsx)("td",Object(u.a)(Object(u.a)({},d),{},{children:w}))},K=n(48),q=n.n(K),z=n(318),B=function(e){var t=e.data,n=e.onDelete,a=e.onSave,c={body:{row:M,cell:A}},i=[{title:"date",dataIndex:"date",sorter:function(e,t){var n=e.date,r=t.date;return q()(n,"DD-MM-YYYY").unix()-q()(r,"DD-MM-YYYY").unix()},width:"20%",editable:!0},{title:"hours",dataIndex:"hours",sorter:function(e,t){return e.hours-t.hours},width:"10%",editable:!0},{title:"assigned to",dataIndex:"assigned",width:"30%",editable:!0},{title:"operation",dataIndex:"operation",width:"5%",align:"center",render:function(e,a){return t.length>=1?Object(r.jsx)(k.a,{title:"Sure to delete?",onConfirm:function(){return n(a.key)},children:Object(r.jsx)(z.a,{style:{color:"#d11a2a",fontSize:"1.1rem"}})}):null}}].map((function(e){return e.editable?Object(u.a)(Object(u.a)({},e),{},{onCell:function(t){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:a}}}):e}));return Object(r.jsx)(I.a,{pagination:{hideOnSinglePage:!0},components:c,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:t,columns:i})};function E(){var e=Object(s.a)(["\n  max-width: 700px;\n  margin: 100px auto;\n"]);return E=function(){return e},e}var J=d.a.div(E()),L=function(){var e=Object(a.useState)([{key:"0",date:"20-04-2006",hours:"34",assigned:"Artem Katz"},{key:"1",date:"20-04-2012",hours:"27",assigned:"Basrov Konstantin"},{key:"2",date:"20-04-2008",hours:"14",assigned:"Frostov Kirill"}]),t=Object(h.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(["Bazrov Konstantin","Artem Katz","Kirill Frostov","Sergey Mochalov","David Getz"]),o=Object(h.a)(i,2),s=o[0],d=o[1],l=function(){var e=Object(O.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()}));case 3:t=e.sent,d([].concat(Object(b.a)(s),Object(b.a)(t.map((function(e){return e.name}))))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("an error occured");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){l()}),[]);var f=function(e){var t=e.hours,a=e.trainingDate,i=e.selectOption;c([].concat(Object(b.a)(n),[{key:Object(y.a)(),date:q()(a).format("DD-MM-YYYY"),hours:t,assigned:i,delete:Object(r.jsx)(g.a,{type:"primary",children:Object(r.jsx)(z.a,{})})}]))};return Object(r.jsxs)(J,{children:[Object(r.jsx)(Y,{onAdd:f,options:s}),Object(r.jsx)(B,{data:n,onDelete:function(e){var t=n.filter((function(t){return t.key!==e}));c(t)},onSave:function(e){var t=Object(b.a)(n),r=t.findIndex((function(t){return e.key===t.key})),a=t[r];t.splice(r,1,Object(u.a)(Object(u.a)({},a),e)),c(t)},onAdd:f})]})};function N(){var e=Object(s.a)(["\n  max-width: 1170px;\n  padding-left: 15px;\n  padding-right: 15px;\n  margin: 0 auto;\n"]);return N=function(){return e},e}var R=d.a.div(N()),G=function(){return Object(r.jsx)(R,{children:Object(r.jsx)(L,{})})};o.a.render(Object(r.jsx)(G,{}),document.getElementById("root"))}},[[313,1,2]]]);
//# sourceMappingURL=main.116e5724.chunk.js.map