(this["webpackJsonpsteps-recorder"]=this["webpackJsonpsteps-recorder"]||[]).push([[0],{176:function(e,t,n){},312:function(e,t,n){"use strict";n.r(t);var r=n(15),a=n(0),c=n.n(a),i=n(35),o=n.n(i),s=n(73),d=(n(176),n(126),n(75)),u=n(1),l=n(39),j=n.n(l),b=n(7),O=n(50),h=n(6),f=n(316),x=n(91),p=n(320),v=n(315),m=n(318),g=n(41),y=n(113);function w(){var e=Object(s.a)(["\n  text-align: center;\n  margin-bottom: 40px;\n"]);return w=function(){return e},e}var Y=d.a.div(w()),k=function(e){var t=e.options,n=e.onAdd,a=f.a.useForm(),c=Object(h.a)(a,1)[0],i=x.a.Option;return Object(r.jsx)(Y,{children:Object(r.jsx)(f.a,{form:c,onFinish:function(e){n(e),c.resetFields()},onFinishFailed:function(e){console.log("Failed:",e)},children:Object(r.jsxs)(p.b,{children:[Object(r.jsx)(f.a.Item,{name:"trainingDate",rules:[{required:!0,message:"Please enter a valid date"}],children:Object(r.jsx)(v.a,{format:"DD/MM/YYYY"})}),Object(r.jsx)(f.a.Item,{name:"hours",rules:[{required:!0,message:"Please enter hours"}],children:Object(r.jsx)(m.a,{min:1})}),Object(r.jsx)(f.a.Item,{name:"selectOption",rules:[{required:!0,message:"Please assign someone"}],children:Object(r.jsx)(x.a,{showSearch:!0,style:{width:200},placeholder:"Select a person",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:t&&t.map((function(e){return Object(r.jsx)(i,{value:e,children:e},Object(y.a)())}))})}),Object(r.jsx)(f.a.Item,{children:Object(r.jsx)(g.a,{htmlType:"submit",type:"primary",children:"Add"})})]})})})},D=n(314),I=n(40),S=n.n(I),F=n(319),M=n(11),C=c.a.createContext(),P=function(e){e.index;var t=Object(M.a)(e,["index"]),n=f.a.useForm(),a=Object(h.a)(n,1)[0];return Object(r.jsx)(f.a,{form:a,component:!1,children:Object(r.jsx)(C.Provider,{value:a,children:Object(r.jsx)("tr",Object(u.a)({},t))})})},A=n(5),K=n(317),q=function(e){var t=e.title,n=e.editable,c=e.children,i=e.dataIndex,o=e.record,s=e.handleSave,d=Object(M.a)(e,["title","editable","children","dataIndex","record","handleSave"]),l=Object(a.useState)(!1),b=Object(h.a)(l,2),x=b[0],p=b[1],v=Object(a.useRef)(),m=Object(a.useContext)(C);Object(a.useEffect)((function(){x&&v.current.focus()}),[x]);var g=function(){p(!x),m.setFieldsValue(Object(A.a)({},i,o[i]))},y=function(){var e=Object(O.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.validateFields();case 3:t=e.sent,g(),s(Object(u.a)(Object(u.a)({},o),t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),w=c;return n&&(w=x?Object(r.jsx)(f.a.Item,{style:{margin:0},name:i,rules:[{required:!0,message:"".concat(t," is required.")}],children:Object(r.jsx)(K.a,{ref:v,onPressEnter:y,onBlur:y})}):Object(r.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:g,children:c})),Object(r.jsx)("td",Object(u.a)(Object(u.a)({},d),{},{children:w}))},z=function(e){var t=e.data,n=e.onDelete,a=e.onSave,c={body:{row:P,cell:q}},i=[{title:"date",dataIndex:"date",sorter:function(e,t){var n=e.date,r=t.date;return S()(n,"DD-MM-YYYY").unix()-S()(r,"DD-MM-YYYY").unix()},width:"30%",editable:!0},{title:"hours",dataIndex:"hours",sorter:function(e,t){return e.hours-t.hours},width:"20%",editable:!0},{title:"assigned to",dataIndex:"assigned",width:"30%",editable:!0},{title:"operation",dataIndex:"operation",width:"20%",render:function(e,a){return t.length>=1?Object(r.jsx)(F.a,{title:"Sure to delete?",onConfirm:function(){return n(a.key)},children:Object(r.jsx)("a",{children:"Delete"})}):null}}].map((function(e){return e.editable?Object(u.a)(Object(u.a)({},e),{},{onCell:function(t){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:a}}}):e}));return Object(r.jsx)(D.a,{pagination:{hideOnSinglePage:!0},components:c,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:t,columns:i})};function B(){var e=Object(s.a)(["\n  max-width: 900px;\n  margin: 100px auto;\n"]);return B=function(){return e},e}var E=d.a.div(B()),J=function(){var e=Object(a.useState)([{key:"0",date:"20-04-2006",hours:"34",assigned:"Artem Katz"},{key:"1",date:"20-04-2012",hours:"27",assigned:"Basrov Konstantin"},{key:"2",date:"20-04-2008",hours:"14",assigned:"Frostov Kirill"}]),t=Object(h.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(["Bazrov Konstantin","Artem Katz","Kirill Frostov","Sergey Mochalov","David Getz"]),o=Object(h.a)(i,2),s=o[0],d=o[1],l=function(){var e=Object(O.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()}));case 3:t=e.sent,d([].concat(Object(b.a)(s),Object(b.a)(t.map((function(e){return e.name}))))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("an error occured");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){l()}),[]);var f=function(e){var t=e.hours,a=e.trainingDate,i=e.selectOption;c([].concat(Object(b.a)(n),[{key:Object(y.a)(),date:S()(a).format("DD-MM-YYYY"),hours:t,assigned:i,delete:Object(r.jsx)(g.a,{type:"primary",children:"Delete"})}]))};return Object(r.jsxs)(E,{children:[Object(r.jsx)(k,{onAdd:f,options:s}),Object(r.jsx)(z,{data:n,onDelete:function(e){var t=n.filter((function(t){return t.key!==e}));c(t)},onSave:function(e){var t=Object(b.a)(n),r=t.findIndex((function(t){return e.key===t.key})),a=t[r];t.splice(r,1,Object(u.a)(Object(u.a)({},a),e)),c(t)},onAdd:f})]})};function L(){var e=Object(s.a)(["\n  max-width: 1170px;\n  padding-left: 15px;\n  padding-right: 15px;\n  margin: 0 auto;\n"]);return L=function(){return e},e}var N=d.a.div(L()),R=function(){return Object(r.jsx)(N,{children:Object(r.jsx)(J,{})})};o.a.render(Object(r.jsx)(R,{}),document.getElementById("root"))}},[[312,1,2]]]);
//# sourceMappingURL=main.0467502d.chunk.js.map